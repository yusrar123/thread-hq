<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Browse Reviews | Thread HQ</title>
    <link rel="stylesheet" href="styles.css" />
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet"/>
    <!-- AOS Animation CSS -->
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
  </head>
  <body>
    <div class="container">
      <header>
        <div class="logo"><a href="index.html">Thread HQ</a></div>
        <nav>
          <a href="index.html#how-it-works">How It Works</a>
          <a href="index.html#submit">Submit</a>
          <a href="browse.html" class="active">Browse</a>
        </nav>
      </header>

      <main>
        <section class="browse-hero" data-aos="fade-up">
<div class="filter-buttons" data-aos="fade-up" data-aos-delay="100">

        <section class="browse-hero">
          <h1>All Reviews</h1>
          <p>See honest reviews from the community.</p>
        </section>

        <div class="filter-buttons">
          <button class="filter-btn active" data-filter="all">All</button>
          <button class="filter-btn" data-filter="brand">Brands</button>
          <button class="filter-btn" data-filter="influencer">Influencers</button>
        </div>

        <div class="filter-buttons">
  <button class="filter-btn active" data-filter="all">All</button>
  <button class="filter-btn" data-filter="brand">Brands</button>
  <button class="filter-btn" data-filter="influencer">Influencers</button>
</div>
<section class="brand-directory">
  <h2>Browse by Name</h2>
  <div class="name-buttons" id="nameButtons">
    <!-- Names will be inserted here automatically -->
  </div>
</section>

<div class="review-grid" id="reviewGrid">
  <!-- Reviews from Google Sheets will load here -->
</div>

          <div class="review-card" data-type="influencer">
            <h3>Influencer: @fakecollab</h3>
            <p>“Never paid after posting our product.”</p>
          </div>
          <div class="review-card" data-type="brand">
            <h3>Brand: Shein</h3>
            <p>“Product didn’t match the description at all.”</p>
          </div>
          <div class="review-card" data-type="influencer">
            <h3>Influencer: @scammerqueen</h3>
            <p>“Took free items, ghosted us.”</p>
          </div>
        </div>
      </main>

      <footer>
        <p>&copy; 2025 Thread HQ. Built for transparency.</p>
      </footer>
    </div>

    <script>
  const filterButtons = document.querySelectorAll(".filter-btn");
  const reviewGrid = document.getElementById("reviewGrid");
  const nameButtons = document.getElementById("nameButtons");
  let allReviews = [];

  // Fetch reviews from SheetDB
  fetch("https://sheetdb.io/api/v1/YOUR_API_ID")
    .then((res) => res.json())
    .then((data) => {
      allReviews = data;
      renderNameButtons();
      renderReviews("all");
    });

  function renderNameButtons() {
    const uniqueNames = [...new Set(allReviews.map((r) => r.name.trim()))].sort();

    uniqueNames.forEach((name) => {
      const btn = document.createElement("button");
      btn.classList.add("name-btn");
      btn.textContent = name;
      btn.setAttribute("data-name", name.toLowerCase());

      btn.addEventListener("click", () => {
        document.querySelectorAll(".name-btn").forEach((b) => b.classList.remove("active"));
        btn.classList.add("active");
        renderReviewsByName(name);
      });

      nameButtons.appendChild(btn);
    });
  }

  function renderReviews(filter) {
    reviewGrid.innerHTML = "";

    const filtered = filter === "all"
      ? allReviews
      : allReviews.filter((r) => r.type.toLowerCase() === filter);

    displayCards(filtered);
  }

  function renderReviewsByName(name) {
    const filtered = allReviews.filter((r) => r.name.toLowerCase() === name.toLowerCase());
    reviewGrid.innerHTML = "";
    displayCards(filtered);
  }

  function displayCards(reviews) {
    if (reviews.length === 0) {
      reviewGrid.innerHTML = "<p>No reviews found.</p>";
      return;
    }

    reviews.forEach((review) => {
      const card = document.createElement("div");
      card.classList.add("review-card");
      card.setAttribute("data-type", review.type);

      card.innerHTML = `
  <div data-aos="fade-up">
    <h3>${review.type === "influencer" ? "Influencer" : "Brand"}: ${review.name}</h3>
    <p>“${review.review}”</p>
  </div>
`;


      reviewGrid.appendChild(card);
    });
  }

  filterButtons.forEach((btn) => {
    btn.addEventListener("click", () => {
      document.querySelectorAll(".filter-btn").forEach((b) => b.classList.remove("active"));
      btn.classList.add("active");
      renderReviews(btn.getAttribute("data-filter"));
    });
  });
</script>
    
<!-- AOS Animation JS -->
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
  AOS.init();
</script>

  </body>
</html>
